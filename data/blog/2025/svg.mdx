---
title: svgí™œìš©
date: '2025-01-21'
tags: ['react', 'next', 'svg', 'svgr', 'svgo']
draft: false
summary: svgë¥¼ ë¦¬ì•¡íŠ¸ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°
---

import Block from '@/components/Block'

<Block title="svgë¥¼ ë¦¬ì•¡íŠ¸ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°">
  <ul>
    <li>[ì¶”ê°€: ë„¥ìŠ¤íŠ¸ & svgr ì‚¬ìš©í•˜ê¸°](#-ì¶”ê°€-ë„¥ìŠ¤íŠ¸--svgr-íŒ¨í‚¤ì§€-ì‚¬ìš©í•˜ê¸°)</li>
    <li>[ì¶”ê°€: svgo ì„¤ì • ~~ë„ê¸°~~ ì¶”ê°€í•˜ê¸°](#ì—¬ê¸°ì—-ë˜-ë‚´ìš©-ì¶”ê°€ë¡œ-ì„¤ì •ì„-ì¶”ê°€í–ˆë‹¤)</li>
  </ul>
</Block>

ëŒ€ê²ŒëŠ” ê·¸ëƒ¥ ì´ë¯¸ì§€ì— ë„£ëŠ”ê²Œ ê¸°ë³¸ì ì¸ ì‚¬ìš© ë°©ë²•ì´ë‹¤.

```jsx
import icon from '../assets/images/icon.svg'

export default function Component() {
  return <img src={icon} alt="" />
}
```

ì´ë ‡ê²Œ ì¨ì•¼ í•˜ëŠ” ê±´ ì•„ë‹ˆì§€ë§Œ, ê²½ìš°ì— ë”°ë¼ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

```xml:icon.svg
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
  <!-- ìƒëµ -->
</svg>
```

```jsx:Component.jsx
import { ReactComponent as Icon } from '../assets/images/icon.svg'

function Component() {
  return (
    <>
      <h1>Test svg icon</h1>
      <Icon width="20px" height="20px" />
    </>
  )
}

export default Component
```

ì´ë ‡ê²Œ ì‚¬ìš©í•˜ë©´ svgì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™€ ìŠ¤íƒ€ì¼ì„ ì…íˆëŠ”ê²Œ ê°€ëŠ¥í•˜ë‹¤.

ë˜ëŠ” ì•„ì´ì½˜ ê°™ì€ ê²½ìš° í•œêº¼ë²ˆì— ê°€ì ¸ì™€ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆë‹¤.

```jsx:Icons.jsx
const icons = {
  cap: (w, h, c) => (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      strokeWidth={1.5}
      stroke="currentColor"
      width={w}
      height={h}
      className={c}
    >
      <path d="..." />
    </svg>
  ),
  circle: (w, h, c) => (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      strokeWidth={1.5}
      stroke="currentColor"
      width={w}
      height={h}
      className={c}
    >
      <path d="..." />
    </svg>
  ),
};

function Icons({ name, width = 24, height = 24, className = '' }) {
  return icons[name](width, height, className)
}

export default Icons;
```

```jsx:Component.jsx
import Icons from '../components/Icons';

function Component() {
  return (
    <>
      <h1>Test svg icon</h1>
      <Icons name="circle" width="48px" height="48px" />
    </>
  )
}

export default Component;
```

ì´ë ‡ê²Œ í•˜ë©´ í•œêº¼ë²ˆì— ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

## + ì¶”ê°€ ë„¥ìŠ¤íŠ¸ & svgr íŒ¨í‚¤ì§€ ì‚¬ìš©í•˜ê¸°

ìš°ì„  svgr ë¶€í„° ì„¤ì¹˜í•˜ì.

```shell
# npm
npm istall --save-dev @svgr/webpack

# yarn
yarn add --dev @svgr/webpack
```

ê·¸ë¦¬ê³  `next.config.js` ì—ì„œ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤.  
ë‹¤ìŒì€ [svgr ê³µì‹ ì‚¬ì´íŠ¸](https://react-svgr.com/docs/next/)ì— ìˆëŠ”ê±¸ ê°€ì ¸ì™”ë‹¤.

```js:next.config.js
module.exports = {
  webpack(config) {
    // Grab the existing rule that handles SVG imports
    const fileLoaderRule = config.module.rules.find((rule) => rule.test?.test?.('.svg'));

    config.module.rules.push(
      // Reapply the existing rule, but only for svg imports ending in ?url
      {
        ...fileLoaderRule,
        test: /\.svg$/i,
        resourceQuery: /url/, // *.svg?url
      },
      // Convert all other *.svg imports to React components
      {
        test: /\.svg$/i,
        issuer: fileLoaderRule.issuer,
        resourceQuery: { not: [...fileLoaderRule.resourceQuery.not, /url/] }, // exclude if *.svg?url
        use: ['@svgr/webpack'],
      }
    );

    // Modify the file loader rule to ignore *.svg, since we have it handled now.
    fileLoaderRule.exclude = /\.svg$/i;

    return config;
  },

  // ...other config
};
```

### ì—¬ê¸°ì— ë˜ ë‚´ìš© ì¶”ê°€ë¡œ, ì„¤ì •ì„ ì¶”ê°€í–ˆë‹¤.

svgrì€ ê¸°ë³¸ì ìœ¼ë¡œ svgoë¥¼ í™œìš©í•´ì„œ svgë¥¼ ì••ì¶•í•œë‹¤.  
ë‚˜ëŠ” vscodeì—ì„œ svgí™•ì¥ì„ í™œìš©í•´ì„œ ì••ì¶•ì„ ì‚¬ìš©í•˜ê³ , ê·¸ ì••ì¶•ë„ ì˜µì…˜ì´ í¬í•¨ëœ ì••ì¶•ì´ê³ , ì••ì¶• í›„ì— í•„ìš”í•œ ë‚´ìš©ì„ ì¶”ê°€í•˜ê¸°ë„ í•œë‹¤.  
~~svgrì˜ svgoì€ ì˜µì…˜ì„ ì–´ë–»ê²Œ ë„£ì–´ì•¼ í•˜ëŠ”ì§€ ëª°ë¼ì„œ ê·¸ëƒ¥ êº¼ë²„ë ¸ë‹¤.~~  
ì°¾ì•„ì„œ ìˆ˜ì •í–ˆë‹¤. ëŒì•„ê°€ëŠ”ê²ƒë„ í™•ì¸í–ˆë‹¤!!  
`@svgr/webpack` ì„ ë¡œë”ë¡œ ì§€ì •í•˜ëŠ” ë¶€ë¶„ì— ì €ë ‡ê²Œ ì ìœ¼ë©´ ëœë‹¤.  
ë„ëŠ” ì˜µì…˜ë„ í™•ì¸í•˜ëŠ”ë° ìƒë‹¹í•œ ê³ ìƒì´ í•„ìš”í–ˆë‹¤. ğŸ˜¿

```js:next.config.js
// ...
{
  test: /\.svg$/i,
  // highlight-start
  use: [
    {
      loader: '@svgr/webpack',
      options: {
        // svgo: false, ë„ëŠ”ê±¸ ë„ê³ ...
        svgoConfig: {
          plugins: [
            {
              name: 'preset-default',
              params: {
                overrides: {
                  removeViewBox: false,
                  removeTitle: false,
                },
              },
            },
          ],
        },
      },
    },
  ],
  // highlight-end
}
//...
```

ì´ì œ ì¼ì¼ì´ svgë¥¼ ì••ì¶•í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ğŸ˜Š
ì´ë ‡ê²Œ ê³ ìƒí•˜ê³  ë‚˜ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```jsx
// ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•˜ê¸°
import Icon from './icon.svg'
// ì£¼ì†Œê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°
import IconUrl from './icon.svg?url'

const Example = () => {
  return (
    <>
      <Icon />
      <Image src={IconUrl} width="20" height="20" alt="icon" />
    </>
  )
}
```

ì£¼ì†Œê°’ìœ¼ë¡œ ì‚¬ìš©í•  ë•ŒëŠ” íŒŒì¼ ì£¼ì†Œ ë’¤ì— `?url`ì„ ë¶™ì—¬ì¤˜ì•¼ í•œë‹¤.

ê·¸ë¦¬ê³  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ `Cannot find module`ì—ëŸ¬ê°€ ë‚˜ë©´ íƒ€ì… ì •ì˜ë¥¼ ì¶”ê°€í•´ ì¤˜ì•¼ í•œë‹¤.

```ts:svgr.d.ts
declare module '*.svg' {
  import { FC, SVGProps } from 'react';
  const content: FC<SVGProps<SVGElement>>;
  export default content;
}

declare module '*.svg?url' {
  const content: any;
  export default content;
}
```

ì„¤ì • íŒŒì¼ì´ `tsconfig.json`ì— include ë˜ì–´ ìˆëŠ”ì§€ë„ í™•ì¸í•´ë³´ì.

## ì´ê±´ svg íŒŒì¼ ì‚¬ìš©ì— ëŒ€í•œ íŒì¸ë°,

- ìƒ‰ìƒì„ ì‚¬ìš©í• ë• `currentColor`ê°’ì„ í™œìš©í•˜ë©´ ì¢‹ê³ ,
- `img`ì˜ `alt`ì†ì„± ëŒ€ì‹ ì€ ì•„ë‹ˆì§€ë§Œ `title` ìš”ì†Œë¥¼ ì¶”ê°€í•´ ì‚¬ìš©í•˜ë©´ ì›¹ì ‘ê·¼ì„±ì— ì¢‹ë‹¤.
  - `title` ë§ê³ ë„ `.sr-only`ë¥¼ í™œìš©í•˜ê¸°ë„ í•œë‹¤.
- vscodeì—ì„œ svg í™•ì¥ì„ í™œìš©í•´ `minify`ì‹œí‚¤ëŠ” ê²ƒë„ ê³ ë ¤í•´ ë³¼ ë§Œ í•˜ë‹¤.
  - `minify` ì‹œí‚¬ë•ŒëŠ” ì˜µì…˜ì„ ì˜ í™•ì¸í•´ì•¼ í•œë‹¤. `viewBox`ë‚˜ `title`ë“±...

---

## ì°¸ì¡°

- https://react-svgr.com/
